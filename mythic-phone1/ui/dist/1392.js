"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[1392,4362],{44362:(e,t,n)=>{n.r(t),n.d(t,{DeleteEmail:()=>c,GPSRoute:()=>s,Hyperlink:()=>d,ReadEmail:()=>i});var o=n(68175),l=n(61541);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(e){return function(t){l.A.send("ReadEmail",e._id).then((function(n){t({type:"UPDATE_DATA",payload:{type:"emails",id:e._id,data:r(r({},e),{},{unread:!1})}})})).catch((function(e){}))}},c=function(e){return function(t){l.A.send("DeleteEmail",e).then((function(){return t({type:"REMOVE_DATA",payload:{type:"emails",id:e}}),!0})).catch((function(e){return!1}))}},s=function(e,t){return function(n){l.A.send("GPSRoute",{id:e,location:t}).then((function(e){n({type:"ALERT_SHOW",payload:{alert:"GPS Marked"}})})).catch((function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Mark Location On GPS"}})}))}},d=function(e,t){return function(n){l.A.send("Hyperlink",{id:e,hyperlink:t}).catch((function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Open Hyperlink"}})}))}}},21392:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var o=n(73925),l=n(55429),a=n(15647),r=n(64965),i=n(142),c=n(79111),s=n(26573),d=n(44686),p=n(66304),u=n(32455),m=n(28744),f=n(74552),g=n(51698),y=n.n(g),h=n(26324),b=n(59530),v=n(44362),k=n(23470),A=(0,f.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},titleBar:{padding:15,textAlign:"center"},senderBar:{padding:15,textAlign:"left",lineHeight:"30px",backgroundColor:e.palette.secondary.light},sendTime:{margin:"0",marginTop:"10px",color:e.palette.text.main},expireBar:{padding:15,textAlign:"center",background:e.palette.error.main},emailTitle:{fontSize:20,fontWeight:"bold",width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:"46px"},avatar:{color:e.palette.text.light,height:55,width:55,position:"relative",top:0},sender:{fontSize:18,color:e.palette.text.light},recipient:{fontSize:14,color:e.palette.text.main},emailBody:{padding:20,background:e.palette.secondary.dark,overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},actionButtons:{right:0}}})),E={lastDay:"[Yesterday at] LT",sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",lastWeek:"[last] dddd [at] LT",nextWeek:"dddd [at] LT",sameElse:"L"};const x=(0,a.Ng)(null,{ReadEmail:v.ReadEmail,DeleteEmail:v.DeleteEmail,GPSRoute:v.GPSRoute,Hyperlink:v.Hyperlink})((function(e){var t,n,f,g,v,x=(0,k.MW)(),w=A(),D=(0,r.W6)(),O=e.match.params.id,S=(0,a.d4)((function(e){return e.data.data.emails})).filter((function(e){return e._id===O}))[0];(0,l.useEffect)((function(){var t,n=null;return S||(x("Email Has Been Deleted"),D.goBack()),null!=S&&S.unread&&e.ReadEmail(S),null!=(null==S||null===(t=S.flags)||void 0===t?void 0:t.expires)&&(S.flags.expires<Date.now()?(x("Email Has Expired"),e.DeleteEmail(S._id),D.goBack()):n=setInterval((function(){S.flags.expires<Date.now()&&(x("Email Has Expired"),e.DeleteEmail(S._id),D.goBack())}),2500)),function(){clearInterval(n)}}),[S]);var B=(0,l.useState)(!1),T=(0,o.A)(B,2),R=T[0],P=T[1],C=(0,l.useState)({left:110,top:0}),N=(0,o.A)(C,2),_=N[0],j=N[1],H=function(){P(!1)};return l.createElement("div",{className:w.wrapper},l.createElement(i.A,{position:"static"},l.createElement(c.Ay,{container:!0,className:w.titleBar},l.createElement(c.Ay,{item:!0,xs:2,style:{textAlign:"left"}},l.createElement(s.A,{onClick:function(){return D.goBack()}},l.createElement(b.g,{icon:["fas","arrow-left"]}))),l.createElement(c.Ay,{item:!0,xs:8,className:w.emailTitle,title:null==S?void 0:S.subject},null==S?void 0:S.subject),l.createElement(c.Ay,{item:!0,xs:2,style:{textAlign:"right"}},l.createElement(s.A,{onClick:function(e){e.preventDefault(),j({left:e.clientX-2,top:e.clientY-4}),P(!0)}},l.createElement(b.g,{icon:["fas","ellipsis-vertical"]})))),l.createElement(c.Ay,{container:!0,className:w.senderBar},l.createElement(c.Ay,{item:!0,xs:2},l.createElement(d.A,{className:w.avatar},null==S||null===(t=S.sender)||void 0===t?void 0:t.charAt(0))),l.createElement(c.Ay,{item:!0,xs:10,style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},l.createElement("div",{className:w.sender},null==S?void 0:S.sender),l.createElement("div",{className:w.recipient},"to: me")),l.createElement(c.Ay,{item:!0,xs:8,style:{textAlign:"left",position:"relative"}},l.createElement("p",{className:w.sendTime},"Received ",l.createElement(y(),{interval:6e4,fromNow:!0},+(null==S?void 0:S.time)),".")),l.createElement(c.Ay,{item:!0,xs:4,style:{textAlign:"right",position:"relative"}},l.createElement("div",{className:w.actionButtons},null!=(null==S||null===(n=S.flags)||void 0===n?void 0:n.location)?l.createElement(s.A,{onClick:function(){var t;null!=(null==S||null===(t=S.flags)||void 0===t?void 0:t.location)&&e.GPSRoute(S._id,S.flags.location)}},l.createElement(b.g,{icon:["fas","location-crosshairs"]})):null,null!=(null==S||null===(f=S.flags)||void 0===f?void 0:f.hyperlink)?l.createElement(s.A,{onClick:function(){var t;null!=(null==S||null===(t=S.flags)||void 0===t?void 0:t.hyperlink)&&e.Hyperlink(S._id,S.flags.hyperlink)}},l.createElement(b.g,{icon:["fas","link"]})):null)))),l.createElement(p.A,{anchorReference:"anchorPosition",anchorPosition:_,keepMounted:!0,open:R,onClose:H},l.createElement(u.A,{onClick:function(){H(),x("Email Deleted"),e.DeleteEmail(S._id),D.goBack()}},"Delete Email")),null!=(null==S||null===(g=S.flags)||void 0===g?void 0:g.expires)?l.createElement(i.A,{className:w.expireBar,position:"static"},l.createElement("div",null,"Email expires"," ",l.createElement(y(),{interval:1e4,calendar:E,fromNow:!0},+S.flags.expires))):null,l.createElement(m.A,{className:w.emailBody,style:{height:null!=(null==S||null===(v=S.flags)||void 0===v?void 0:v.expires)?"66.6%":"73.5%"}},(0,h.WX)(null==S?void 0:S.body)))}))},142:(e,t,n)=>{n.d(t,{A:()=>h});var o=n(86887),l=n(64180),a=n(55429),r=n(1551),i=n(50035),c=n(93119),s=n(88594),d=n(69921),p=n(28744),u=n(35457);function m(e){return(0,u.A)("MuiAppBar",e)}(0,n(40725).A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var f=n(64922);const g=["className","color","enableColorOnDark","position"],y=(0,c.Ay)(p.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,d.A)(n.position)}`],t[`color${(0,d.A)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,l.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,l.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"}))})),h=a.forwardRef((function(e,t){const n=(0,s.A)({props:e,name:"MuiAppBar"}),{className:a,color:c="primary",enableColorOnDark:p=!1,position:u="fixed"}=n,h=(0,o.A)(n,g),b=(0,l.A)({},n,{color:c,position:u,enableColorOnDark:p}),v=(e=>{const{color:t,position:n,classes:o}=e,l={root:["root",`color${(0,d.A)(t)}`,`position${(0,d.A)(n)}`]};return(0,i.A)(l,m,o)})(b);return(0,f.jsx)(y,(0,l.A)({square:!0,component:"header",ownerState:b,elevation:4,className:(0,r.A)(v.root,a,"fixed"===u&&"mui-fixed"),ref:t},h))}))}}]);