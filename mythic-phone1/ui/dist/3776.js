"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[3776],{63776:(e,n,t)=>{t.r(n),t.d(n,{default:()=>b});var r=t(28407),a=t(73925),l=t(70232),o=t.n(l),c=t(55429),u=t(74268),i=t(40279),d=t(44752),s=t(20500),p=t(51959),m=t(59530),v=t(23470),h=t(987),f=t(61541),g=(0,p.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},item:{borderBottom:"1px solid ".concat(e.palette.border.divider),"&:first-child":{borderTop:"1px solid ".concat(e.palette.border.divider)}}}}));const b=function(e){var n,t,l,p,b,y,E,k=e.property,A=e.type,U=e.upgrade,w=e.setLoading,P=e.onRefresh,x=g(),C=(0,v.MW)(),L=(0,c.useState)(!1),M=(0,a.A)(L,2),S=M[0],N=M[1],R=null===(n=U.levels)||void 0===n?void 0:n[(null!==(t=null==k||null===(l=k.upgrades)||void 0===l?void 0:l[A])&&void 0!==t?t:1)-1],_=null===(p=U.levels)||void 0===p?void 0:p[null!==(b=null==k||null===(y=k.upgrades)||void 0===y?void 0:y[A])&&void 0!==b?b:1],j=function(){var e=(0,r.A)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),N(!1),e.prev=2,e.next=5,f.A.send("PurchasePropertyUpgrade",{upgrade:A,id:k.id});case 5:return e.next=7,e.sent.json();case 7:e.sent?(C("Upgrade Purchased"),P()):C("Unable to Purchase Upgrade"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),C("Unable to Purchase Upgrade");case 15:w(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return c.createElement("div",{className:x.wrapper},c.createElement(u.Ay,{className:x.item},c.createElement(i.A,{primary:"".concat(R.name),secondary:"".concat(R.info).concat(_?"":" - Max Upgrade Reached")}),c.createElement(d.A,null,c.createElement(s.A,{edge:"end",onClick:function(){return N(!0)},disabled:!_},c.createElement(m.g,{icon:["fas","turn-up"]})))),c.createElement(h.aF,{form:!0,open:S,title:"Purchase ".concat(null==_?void 0:_.name,"?"),onAccept:j,submitLang:"Purchase",onClose:function(){return N(!1)}},c.createElement("p",null,null==_?void 0:_.name," - ",null==_?void 0:_.info),c.createElement("p",null,"Upgrade Cost: $",null==_||null===(E=_.price)||void 0===E?void 0:E.toLocaleString("en-US")),c.createElement("p",null,c.createElement("i",null,"Money will be taken from your main bank account.")),c.createElement("p",null,"Are you sure you want to upgrade? Purchases may not be refunded.")))}}}]);