"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[4350],{54350:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var n=t(28407),a=t(73925),c=t(70232),o=t.n(c),s=t(55429),i=t(44557),u=t(85220),l=t(68209),p=t(26573),d=t(74552),k=t(59530),b=t(87591),h=t(61541),m=t(23470),y=(0,d.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main}}}));const f=function(e){var r=e.property,t=e.data,c=e.canRevoke,d=e.onRefresh,f=e.onUpdate,v=(y(),(0,m.MW)()),g=(0,s.useState)(!1),A=(0,a.A)(g,2),E=A[0],w=A[1],D=function(){var e=(0,n.A)(o().mark((function e(n){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.send("Home:RevokeDigiKey",{id:r.id,target:t.Char});case 3:return e.next=5,e.sent.json();case 5:if((a=e.sent).error){e.next=12;break}v("DigiKey Has Been Revoked"),w(!1),d(),e.next=29;break;case 12:e.t0=a.code,e.next=1===e.t0?15:2===e.t0?17:3===e.t0?19:4===e.t0?21:5===e.t0?23:6===e.t0?25:7===e.t0?27:29;break;case 15:return v("Error Occured"),e.abrupt("break",29);case 17:return v("Invalid Property"),e.abrupt("break",29);case 19:return v("Not Allowed"),e.abrupt("break",29);case 21:return v("Invalid Target Player"),e.abrupt("break",29);case 23:return v("Invalid Target Character"),e.abrupt("break",29);case 25:return v("Person Doesn't Have A DigiKey For Property"),e.abrupt("break",29);case 27:return v("Error Occured Revoking DigiKey"),e.abrupt("break",29);case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(0),console.log(e.t1);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(r){return e.apply(this,arguments)}}();return s.createElement(s.Fragment,null,s.createElement(i.Ay,{divider:!0},s.createElement(u.A,{primary:"".concat(t.First," ").concat(t.Last),secondary:t.Owner?"Owner":"Key Holder"}),c&&s.createElement(l.A,null,s.createElement(p.A,{onClick:f},s.createElement(k.g,{icon:["fas","pen-to-square"]})),s.createElement(p.A,{onClick:function(){return w(!0)}},s.createElement(k.g,{icon:["fas","trash"]})))),c&&s.createElement(b.pT,{title:"Revoke DigiKey?",open:E,confirm:"Yes",decline:"No",onConfirm:D,onDecline:function(){return w(!1)}},s.createElement("p",null,"Removing the DigiKey will revoke access to this property and shared assets for this person. Are you sure?")))}}}]);