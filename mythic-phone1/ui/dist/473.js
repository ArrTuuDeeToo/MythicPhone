"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[473],{50473:(e,t,n)=>{n.r(t),n.d(t,{DeleteConvo:()=>b,ReadConvo:()=>f,SendMessage:()=>i});var r=n(68175),c=n(28407),u=n(70232),o=n.n(u),a=n(61541);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=function(e){return function(){var t=(0,c.A)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.A.send("SendMessage",e);case 3:return t.next=5,t.sent.json();case 5:if(null==t.sent){t.next=11;break}return n({type:"ADD_DATA",payload:{type:"messages",first:!0,data:p({},e)}}),t.abrupt("return",!0);case 11:return t.abrupt("return",!1);case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){return function(n){a.A.send("ReadConvo",e).then((function(){n({type:"SET_DATA",payload:{type:"messages",data:t.map((function(t){return p(p({},t),{},{unread:t.number!==e&&t.unread})}))}})})).catch((function(e){}))}},b=function(e,t,n){return function(t){a.A.send("DeleteConvo",e).then((function(){return t({type:"SET_DATA",payload:{type:"messages",data:n.filter((function(t){return t.number!=e}))}}),!0})).catch((function(e){return!1}))}}}}]);