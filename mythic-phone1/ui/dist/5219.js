"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[5219,9440],{15219:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var n=a(28407),r=a(73925),o=a(68175),i=a(70232),l=a.n(i),s=a(55429),c=a(15647),m=a(57527),p=a(1310),u=a(56977),d=a(20500),y=a(51959),g=a(64965),A=a(59530),f=a(987),h=a(51698),b=a.n(h),x=a(61541),k=a(23470),v=a(29440);var P=(0,y.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:"#30518c"},titleBar:{padding:15,fontSize:20,lineHeight:"50px",height:78},subBar:{padding:15,textAlign:"left",lineHeight:"30px",backgroundColor:e.palette.secondary.light},accountBody:(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({padding:20,overflowY:"auto",overflowX:"hidden"},"padding",10),"&::-webkit-scrollbar",{width:6}),"&::-webkit-scrollbar-thumb",{background:"#ffffff52"}),"&::-webkit-scrollbar-thumb:hover",{background:e.palette.primary.main}),"&::-webkit-scrollbar-track",{background:"transparent"}),accountBtn:{width:"90%",padding:10,margin:"2.5% auto",position:"relative",height:75,background:e.palette.secondary.dark,willChange:"background",transition:"background 400ms",borderRadius:5,boxShadow:"0px 0px 12px -2px rgba(0,0,0,0.3)","&:hover":{cursor:"pointer"},"&:hover:not(.disabled)":{background:"rgba(255, 255, 255, 0.01)"},"&.disabled":{opacity:"60%",color:e.palette.secondary.contrastText}},content:{position:"absolute",top:0,bottom:0,left:0,right:0,height:"fit-content",width:"100%",padding:"5px 7.5% 5px 2%",textAlign:"center",margin:"auto",fontSize:28,"& svg":{color:e.palette.primary.main,fontSize:35}},currency:{color:e.palette.success.main},editField:{marginBottom:20,width:"100%","& p":{marginTop:0}}}}));const E=function(e){var t,a=(0,k.MW)(),o=(0,g.W6)(),i=P(),y=e.match.params.loan,h=(0,c.d4)((function(e){return e.data.data.bankLoans.loans})),E=h&&h.find((function(e){return e._id==y}));if(!E)return null;var w=(0,s.useState)(!1),B=(0,r.A)(w,2),N=B[0],C=B[1],S=(0,s.useState)(!1),L=(0,r.A)(S,2),M=L[0],I=L[1],D=(0,s.useState)({}),T=(0,r.A)(D,2),R=T[0],z=T[1],$=function(e){if(e){var t=1;if(E.MissedPayments>1){var a=E.TotalPayments-E.PaidPayments;(t=E.MissedPayments)>a&&(t=a)}z({minWeeks:t,weeks:t,allowAhead:!0})}else z({minWeeks:1,weeks:1,allowAhead:!1});I(!0)},O=function(){var e=(0,n.A)(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!1),C(!0),e.prev=3,e.next=6,x.A.send("Loans:Payment",{loan:E._id,weeks:R.weeks,paymentAhead:R.allowAhead});case 6:return e.next=8,e.sent.json();case 8:(n=e.sent)&&n.success?(n.paidOff?a("Loan Paid Off Completely!"):a("Loan Payment of $".concat(n.paymentAmount," Successful")),o.goBack()):a(null!==(r=n.message)&&void 0!==r?r:"Loan Payment Failed"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),a("Loan Payment Failed");case 15:C(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return s.createElement(s.Fragment,null,s.createElement("div",{className:i.wrapper},s.createElement(m.A,{position:"static",className:i.header},s.createElement(p.Ay,{container:!0,className:i.titleBar},s.createElement(p.Ay,{item:!0,xs:7,style:{lineHeight:"50px"}},"Loans - ",(0,v.getLoanTypeName)(E.Type)),s.createElement(p.Ay,{item:!0,xs:5,style:{textAlign:"right"}},s.createElement(u.A,{title:E._id},s.createElement("span",null,s.createElement(d.A,null,s.createElement(A.g,{icon:["fas",null!==(t={vehicle:"car-side",property:"house-building"}[E.Type])&&void 0!==t?t:"coin"]})))))),!N&&E&&s.createElement(p.Ay,{container:!0,className:i.subBar},s.createElement(p.Ay,{item:!0,xs:12},(0,v.getLoanIdentifierType)(E.Type),": ",E.AssetIdentifier),s.createElement(p.Ay,{item:!0,xs:6},"Remaining:"," ",s.createElement("span",{className:i.currency},"$",(0,v.getActualRemainingAmount)(E).toLocaleString("en-US"))),s.createElement(p.Ay,{item:!0,xs:6},"Paid:"," ",s.createElement("span",{className:i.currency},"$",E.Paid.toLocaleString("en-US"))),s.createElement(p.Ay,{item:!0,xs:6},"Payments Paid: ",E.PaidPayments),s.createElement(p.Ay,{item:!0,xs:6},"Payments Remaining: ",E.TotalPayments-E.PaidPayments),s.createElement(p.Ay,{item:!0,xs:6},"Interest Rate: ",E.InterestRate,"%"),E.MissablePayments>0&&s.createElement(p.Ay,{item:!0,xs:6},"Missed Payments: ",E.MissedPayments,"/",E.MissablePayments),s.createElement(p.Ay,{item:!0,xs:12},s.createElement("br",null)),s.createElement(p.Ay,{item:!0,xs:12},"Last Payment:"," ",E.LastPayment?s.createElement(b(),{unix:!0,date:E.LastPayment,calendar:!0}):"No Payments Have Been Made"),s.createElement(p.Ay,{item:!0,xs:12},"Next Payment Due:"," ",E.NextPayment?s.createElement(b(),{unix:!0,date:E.NextPayment,calendar:!0}):"No More Payments are Due"),E.Remaining>0&&E.NextPayment&&s.createElement(p.Ay,{item:!0,xs:12},"Next Payment Amount:"," ",s.createElement("span",{className:i.currency},"$",(0,v.getNextPaymentAmount)(E).toLocaleString("en-US"))),(E.Defaulted||E.MissedPayments>0)&&s.createElement(p.Ay,{item:!0,xs:12},s.createElement("br",null),s.createElement("b",null,E.Defaulted?"This loan has been defaulted because you missed to many payments. The asset(s) relating to this loan have been seized temporarily until you pay the amount missed. Failing to pay within a month of the loan being defaulted, your asset(s) are at high risk of being permanently seized.":E.MissedPayments>0&&"You have missed the last ".concat(E.MissedPayments>1?"".concat(E.MissedPayments," payments"):"payment"," for this loan. If ").concat(E.MissablePayments," consecutive payments are missed, the loan will be defaulted on and the asset(s) relating to this loan will be seized."))))),N?s.createElement(f.aH,{static:!0,text:"Completing Loan Payment..."}):E?s.createElement("div",{className:i.accountBody},E.Defaulted?s.createElement(p.Ay,{container:!0},s.createElement(p.Ay,{item:!0,xs:12,className:i.accountBtn,onClick:function(){return $()}},s.createElement("div",{className:i.content},s.createElement(p.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},s.createElement(p.Ay,{item:!0,xs:2},s.createElement(A.g,{icon:["fas","sack-dollar"]})),s.createElement(p.Ay,{item:!0,xs:10},"Pay Loan Debt"))))):s.createElement(p.Ay,{container:!0},s.createElement(p.Ay,{item:!0,xs:12,className:i.accountBtn,onClick:function(){return $()}},s.createElement("div",{className:i.content},s.createElement(p.Ay,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},s.createElement(p.Ay,{item:!0,xs:2},s.createElement(A.g,{icon:["fas","circle-dollar"]})),s.createElement(p.Ay,{item:!0,xs:10},"Make Next Payment")))))):s.createElement("p",null,"There was big fuckup oh no.")),s.createElement(f.aF,{form:!0,open:M,title:"Loan Payment - $".concat((0,v.getNextPaymentAmount)(E,R.weeks).toLocaleString("en-US")),submitLang:"Make Payment",closeLang:"Cancel",onAccept:O,onClose:function(){return I(!1)}},s.createElement("p",{className:i.editField},"Loan Payments are taken from your Personal Checking Account. Due Payment: $",(0,v.getNextPaymentAmount)(E,R.weeks).toLocaleString("en-US"),".")))}},29440:(e,t,a)=>{a.r(t),a.d(t,{getActualRemainingAmount:()=>o,getLoanIdentifierType:()=>r,getLoanTypeName:()=>n,getNextPaymentAmount:()=>i});var n=function(e){switch(e){case"vehicle":return"Vehicle";case"property":return"Property";default:return"Asset"}},r=function(e){switch(e){case"vehicle":return"Vehicle VIN";case"property":return"Property ID";default:return"Asset ID"}},o=function(e){if(e.Remaining>0){var t=(100+e.InterestRate)/100;return Math.ceil(e.Remaining*t)}return 0},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.Remaining>0){var a=(100+e.InterestRate)/100,n=e.TotalPayments-e.PaidPayments;e.MissedPayments>1&&1===t&&(t=e.MissedPayments),t>n&&(t=n);var r=e.Remaining/n*t*a;return Math.ceil(r)}return 0}},57527:(e,t,a)=>{a.d(t,{A:()=>b});var n=a(86887),r=a(64180),o=a(55429),i=a(34164),l=a(7413),s=a(23805),c=a(29115),m=a(10016),p=a(31699),u=a(52679),d=a(33899);function y(e){return(0,d.Ay)("MuiAppBar",e)}(0,u.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var g=a(64922);const A=["className","color","enableColorOnDark","position"],f=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,h=(0,s.Ay)(p.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[`position${(0,m.A)(a.position)}`],t[`color${(0,m.A)(a.color)}`]]}})((({theme:e,ownerState:t})=>{const a="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,r.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,r.A)({},"default"===t.color&&{backgroundColor:a,color:e.palette.getContrastText(a)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,r.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,r.A)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:f(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:f(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:f(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:f(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),b=o.forwardRef((function(e,t){const a=(0,c.b)({props:e,name:"MuiAppBar"}),{className:o,color:s="primary",enableColorOnDark:p=!1,position:u="fixed"}=a,d=(0,n.A)(a,A),f=(0,r.A)({},a,{color:s,position:u,enableColorOnDark:p}),b=(e=>{const{color:t,position:a,classes:n}=e,r={root:["root",`color${(0,m.A)(t)}`,`position${(0,m.A)(a)}`]};return(0,l.A)(r,y,n)})(f);return(0,g.jsx)(h,(0,r.A)({square:!0,component:"header",ownerState:f,elevation:4,className:(0,i.A)(b.root,o,"fixed"===u&&"mui-fixed"),ref:t},d))}))}}]);