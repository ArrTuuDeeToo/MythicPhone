"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[4362,5459],{44362:(e,t,n)=>{n.r(t),n.d(t,{DeleteEmail:()=>c,GPSRoute:()=>p,Hyperlink:()=>s,ReadEmail:()=>l});var a=n(68175),r=n(61541);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return function(t){r.A.send("ReadEmail",e._id).then((function(n){t({type:"UPDATE_DATA",payload:{type:"emails",id:e._id,data:o(o({},e),{},{unread:!1})}})})).catch((function(e){}))}},c=function(e){return function(t){r.A.send("DeleteEmail",e).then((function(){return t({type:"REMOVE_DATA",payload:{type:"emails",id:e}}),!0})).catch((function(e){return!1}))}},p=function(e,t){return function(n){r.A.send("GPSRoute",{id:e,location:t}).then((function(e){n({type:"ALERT_SHOW",payload:{alert:"GPS Marked"}})})).catch((function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Mark Location On GPS"}})}))}},s=function(e,t){return function(n){r.A.send("Hyperlink",{id:e,hyperlink:t}).catch((function(e){n({type:"ALERT_SHOW",payload:{alert:"Unable To Open Hyperlink"}})}))}}},95459:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(55429),r=n(15647),i=n(64965),o=n(28744),l=n(79111),c=n(44686),p=n(74552),s=n(51698),u=n.n(s),d=n(44362),m=n(59530),f=(0,p.A)((function(e){return{convo:{"&::before":{background:"transparent !important"},background:e.palette.secondary.dark,padding:"20px 12px",border:"1px solid rgba(0, 0, 0, .25)","&:not(:last-child)":{borderBottom:"none"},"&:hover":{background:e.palette.secondary.main,transition:"background ease-in 0.15s",cursor:"pointer"}},avatar:{color:e.palette.text.light,height:55,width:55,position:"relative",top:0},avatarUnread:{color:e.palette.text.light,background:e.palette.primary.main,height:55,width:55,position:"relative",top:0},sender:{fontSize:18,color:e.palette.text.main},senderUnread:{fontSize:18,color:e.palette.primary.main,fontWeight:"bold"},time:{fontSize:12,color:e.palette.text.main,float:"right",lineHeight:"25px"},subject:{fontSize:16,color:e.palette.text.light,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:5,maxWidth:"90%"},body:{fontSize:14,color:e.palette.text.main,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:5,maxWidth:"90%"},specialIcon:{position:"absolute",right:0,bottom:0,fontSize:20}}}));const h=(0,r.Ng)(null,{DeleteEmail:d.DeleteEmail})((function(e){var t,n,r=f(),p=(0,i.W6)();return(0,a.useEffect)((function(){var t=null;return null!=e.email.flags&&null!=e.email.flags.expires&&(t=setInterval((function(){e.email.flags.expires<Date.now()&&e.DeleteEmail(e.email._id)}),2500)),function(){clearInterval(t)}}),[]),a.createElement(o.A,{className:r.convo,onClick:function(){p.push("/apps/email/view/".concat(e.email._id))}},a.createElement(l.Ay,{container:!0},a.createElement(l.Ay,{item:!0,xs:2,style:{position:"relative"}},a.createElement(c.A,{className:e.email.unread?r.avatarUnread:r.avatar},null!==(t=null===(n=e.email.sender)||void 0===n||null===(n=n.charAt(0))||void 0===n?void 0:n.toUpperCase())&&void 0!==t?t:"?")),a.createElement(l.Ay,{item:!0,xs:10,style:{position:"relative"}},a.createElement("div",null,a.createElement("span",{className:e.email.unread?r.senderUnread:r.sender},e.email.sender),a.createElement("div",{className:r.time},a.createElement(u(),{interval:6e4,fromNow:!0},+e.email.time))),null!=e.email.flags?a.createElement(m.g,{className:r.specialIcon,icon:["fas","flag"]}):null,a.createElement("div",{className:r.subject},e.email.subject))))}))}}]);