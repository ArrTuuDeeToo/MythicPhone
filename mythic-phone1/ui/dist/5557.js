"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[5557],{5557:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(28407),a=n(68175),o=n(73925),i=n(70232),c=n.n(i),l=n(55429),u=n(15647),s=n(142),d=n(79111),p=n(26573),m=n(54824),g=n(33268),f=n(74552),b=n(59530),h=n(61541),w=n(87591),F=n(23470),k=n(79181);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=(0,f.A)((function(e){return{wrapper:{height:"100%",display:"flex",flexDirection:"column",background:"#15202B"},header:{background:"#15202B",boxShadow:"none",borderBottom:"1px solid #38444D",padding:"12px 16px",position:"sticky",top:0,zIndex:10},headerTitle:{color:"#FFFFFF",fontSize:"20px",fontWeight:"bold",lineHeight:"24px"},headerAction:{color:"#1DA1F2","&:hover":{backgroundColor:"rgba(29, 161, 242, 0.1)"},"&.Mui-disabled":{color:"rgba(255, 255, 255, 0.3)"}},tweetList:{flex:1,overflowY:"auto",overflowX:"hidden",padding:"0 16px","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#38444D",borderRadius:3},"&::-webkit-scrollbar-thumb:hover":{background:"#1DA1F2"},"&::-webkit-scrollbar-track":{background:"transparent"}},modal:{"& .MuiPaper-root":{background:"#15202B",color:"#FFFFFF",borderRadius:"16px"}},modalTitle:{borderBottom:"1px solid #38444D",padding:"16px",color:"#FFFFFF"},editField:{marginBottom:15,"& .MuiInputBase-root":{color:"#FFFFFF",fontSize:"20px"},"& .MuiInputLabel-root":{color:"#8899A6"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#38444D"},"&:hover fieldset":{borderColor:"#1DA1F2"},"&.Mui-focused fieldset":{borderColor:"#1DA1F2"}},"& .MuiFormHelperText-root":{color:"#8899A6"}},preview:{width:"100%",maxWidth:400,margin:"16px auto",borderRadius:"16px",border:"1px solid #38444D"},pagination:{padding:"16px",display:"flex",justifyContent:"center","& .MuiPaginationItem-root":{color:"#FFFFFF",borderColor:"#38444D","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"},"&.Mui-selected":{backgroundColor:"#1DA1F2","&:hover":{backgroundColor:"#1A91DA"}}}}}}));const y=function(){var e=A(),t=((0,u.wA)(),(0,F.MW)()),n=(0,u.d4)((function(e){return e.data.data.tweets})),i=(0,u.d4)((function(e){return e.data.data.player})),f=n?Math.ceil(n.length/20):0,x=(0,l.useState)(1),y=(0,o.A)(x,2),E=y[0],C=y[1],D=(0,l.useState)(!1),O=(0,o.A)(D,2),I=O[0],L=O[1],T=(0,l.useState)({tweet:"",usingImg:!1,imgLink:""}),j=(0,o.A)(T,2),P=j[0],R=j[1],M=(0,l.useState)(null),N=(0,o.A)(M,2),S=N[0],B=N[1],W=function(e){R(v(v({},P),{},(0,a.A)({},e.target.name,e.target.value)))},_=function(e){R(v(v({},P),{},{tweet:"@".concat(e," ")})),L(!0)},z=function(e){B(e)},U=function(){var e=(0,r.A)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(v({},S),{},{author:i.Alias.twitter,content:"<b>RETWEET</b> @".concat(S.author.name,' "').concat(S.content,'"'),time:Date.now(),retweet:S._id,likes:[]}),e.next=3,q(n);case 3:r=e.sent,B(null),t(r?"Retweeted":"Unable to Retweet");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,r.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.A.send("SendTweet",t);case 3:return e.next=5,e.sent.json();case 5:if(!e.sent){e.next=10;break}return L(!1),R({tweet:"",usingImg:!1,imgLink:""}),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.A)(c().mark((function e(){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={time:Date.now(),content:P.tweet,image:{using:P.usingImg,link:P.imgLink},likes:[]},e.next=3,q(n);case 3:r=e.sent,t(r?"Tweet Created":"Unable to Create Tweet");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.createElement("div",{className:e.wrapper},l.createElement(s.A,{position:"static",className:e.header},l.createElement(d.Ay,{container:!0,alignItems:"center"},l.createElement(d.Ay,{item:!0,xs:8},l.createElement("span",{className:e.headerTitle},"Twatter")),l.createElement(d.Ay,{item:!0,xs:4,style:{textAlign:"right"}},l.createElement(p.A,{onClick:function(){return L(!0)},disabled:!i.Alias.twitter,className:e.headerAction},l.createElement(b.g,{icon:["fas","plus"]}))))),l.createElement("div",{className:e.tweetList},n.sort((function(e,t){return t.time-e.time})).slice(20*(E-1),20*E).map((function(e){return l.createElement(k.default,{key:e._id,tweet:e,rtcount:n.filter((function(t){return t.retweet===e._id})).length,onReply:_,onRetweet:z})})),f>1&&l.createElement("div",{className:e.pagination},l.createElement(m.A,{count:f,page:E,onChange:function(e,t){return C(t)},variant:"outlined",color:"primary"}))),l.createElement(w.aF,{className:e.modal,open:I,title:"New Tweet",onClose:function(){return L(!1)},onAccept:H,onDelete:function(){R(v(v({},P),{},{imgLink:"",usingImg:!P.usingImg}))},submitLang:"Tweet",deleteLang:P.usingImg?"Remove Image":"Attach Image",closeLang:"Cancel"},l.createElement(g.A,{className:e.editField,label:"What's happening?",name:"tweet",type:"text",fullWidth:!0,multiline:!0,required:!0,helperText:"".concat(P.tweet.length," / 180 characters"),value:P.tweet,onChange:W,variant:"outlined",inputProps:{maxLength:180}}),P.usingImg&&l.createElement(l.Fragment,null,P.imgLink&&l.createElement("img",{src:P.imgLink,alt:"Preview",className:e.preview}),l.createElement(g.A,{className:e.editField,label:"Image URL",name:"imgLink",helperText:"Imgur Links Only",type:"text",fullWidth:!0,required:!0,value:P.imgLink,onChange:W,variant:"outlined"}))),l.createElement(w.pT,{open:null!==S,title:"Retweet this Tweet?",confirm:"Retweet",decline:"Cancel",onConfirm:U,onDecline:function(){return B(null)}}))}}}]);