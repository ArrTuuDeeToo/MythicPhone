"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[2288,3461,3805,6033,6216],{3805:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(55429),r=(a(15647),a(74552)),o=a(87591),l=a(12288),i=(0,r.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},body:{padding:10,height:"100%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}}));const c=function(e){var t=e.jobs,a=(e.groups,e.myGroup),r=e.loading,c=(e.onRefresh,i());return n.createElement("div",{className:c.wrapper},n.createElement("div",{className:c.body},Boolean(t)?Object.keys(t).length>0?Object.keys(t).map((function(e){return n.createElement(l.default,{key:"labor-".concat(e),job:t[e],myGroup:a,disabled:r})})):n.createElement("div",{className:c.emptyMsg},"No Jobs Available"):n.createElement(o.aH,{static:!0,text:"Loading"})))}},43461:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var n=a(55429),r=(a(15647),a(74552)),o=(a(59530),a(87591)),l=a(56216),i=(0,r.A)((function(e){return{wrapper:{height:"100%",background:"#1a1a1a",display:"flex",flexDirection:"column"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",height:48,background:"#27272a",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},title:{color:"#ffffff",fontSize:16,fontWeight:500},body:{flex:1,padding:"16px",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52",borderRadius:3},"&::-webkit-scrollbar-thumb:hover":{background:"#ff4444"},"&::-webkit-scrollbar-track":{background:"transparent"}},refreshButton:{color:"rgba(255, 255, 255, 0.7)","&:hover":{color:"#ffffff"}},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%",color:"rgba(255, 255, 255, 0.7)"}}}));const c=function(e){var t=e.myReputations,a=e.loading,r=(e.onRefresh,i());return n.createElement("div",{className:r.wrapper},n.createElement("div",{className:r.body},Boolean(t)?t.length>0?t.sort((function(e,t){return e.label.localeCompare(t.label)})).map((function(e){return n.createElement(l.default,{key:"labor-".concat(e.id),rep:e,disabled:a})})):n.createElement("div",{className:r.emptyMsg},"No Reputation Built"):n.createElement(o.aH,{static:!0,text:"Loading"})))}},12288:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(28407),r=a(70232),o=a.n(r),l=a(55429),i=a(15647),c=a(28744),s=a(79111),u=a(49999),d=a(74552),m=(a(59530),a(61541)),b=a(23470),p=(0,d.A)((function(e){return{wrapper:{padding:10,background:e.palette.secondary.dark,"&:not(:last-of-type)":{marginBottom:10}},details:{position:"absolute",width:"fit-content",height:"fit-content",top:0,bottom:0,margin:"auto"},title:{fontSize:20,color:e.palette.primary.main,fontWeight:"bold"},pay:{fontSize:16,color:e.palette.success.main},duty:{fontSize:16,fontWeight:"bold",position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},actions:{position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"}}}));const f=function(e){var t=e.job,a=e.myGroup,r=e.disabled,d=p(),f=((0,i.wA)(),(0,b.MW)()),h=(0,i.d4)((function(e){return e.data.data.player})),g=function(){var e=(0,n.A)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.A.send("StartLaborJob",{job:t.Id,isWorkgroup:Boolean(a)});case 3:return e.next=5,e.sent.json();case 5:n=e.sent,f(n?"Started ".concat(t.Name):"Unable to Start Job"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f("Unable to Start Job");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.A)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.A.send("QuitLaborJob",t.Id);case 3:return e.next=5,e.sent.json();case 5:a=e.sent,f(a?"Quit ".concat(t.Name):"Unable to Quit Job"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f("Unable to Quit Job");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return l.createElement(c.A,{className:d.wrapper},l.createElement(s.Ay,{container:!0},l.createElement(s.Ay,{item:!0,xs:7,style:{position:"relative",height:65}},l.createElement("div",{className:d.details},l.createElement("div",{className:d.title},t.Name),t.Salary>0&&l.createElement("div",{className:d.pay},"$",t.Salary))),l.createElement(s.Ay,{item:!0,xs:2,style:{position:"relative"}},l.createElement("div",{className:d.duty},0==t.Limit?t.OnDuty.length:"".concat(t.OnDuty.length," / ").concat(t.Limit))),l.createElement(s.Ay,{item:!0,xs:3,style:{position:"relative"}},t.OnDuty.filter((function(e){return e.Joiner==h.Source})).length>0||Boolean(a)&&t.OnDuty.filter((function(e){return e.Joiner==a.Creator.ID})).length>0?l.createElement(u.A,{variant:"text",className:d.actions,disabled:Boolean(a)&&a.Creator.ID!=h.Source||r,onClick:v},"Quit"):l.createElement(u.A,{variant:"text",className:d.actions,disabled:Boolean(a)&&a.Creator.ID!=h.Source||Boolean(h.TempJob)||r,onClick:g},"Start"))))}},56216:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(55429),r=a(15647),o=a(28744),l=a(79111),i=a(69484),c=a(74552),s=(a(59530),a(61541),a(23470)),u=(0,c.A)((function(e){return{wrapper:{padding:10,background:e.palette.secondary.dark,"&:not(:last-of-type)":{marginBottom:10}},details:{position:"absolute",width:"100%",height:"fit-content",top:0,bottom:0,margin:"auto"},title:{fontSize:20,color:e.palette.primary.main,fontWeight:"bold",textAlign:"center"},progressLabel:{fontSize:16,textAlign:"center"},duty:{fontSize:16,fontWeight:"bold",position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},actions:{position:"absolute",height:"fit-content",width:"fit-content",top:0,bottom:0,left:0,right:0,margin:"auto"},progressContainer:{padding:10}}}));const d=function(e){var t,a,c,d,m=e.rep,b=(e.myGroup,e.disabled,u());(0,r.wA)(),(0,s.MW)();return n.createElement(o.A,{className:b.wrapper},n.createElement(l.Ay,{container:!0},n.createElement(l.Ay,{item:!0,xs:12,style:{position:"relative",height:38}},n.createElement("div",{className:b.details},n.createElement("div",{className:b.title},m.label)))),n.createElement(l.Ay,{container:!0},n.createElement(l.Ay,{item:!0,xs:2,style:{position:"relative"}},n.createElement("div",{className:b.progressLabel},null!==(t=null===(a=m.current)||void 0===a?void 0:a.label)&&void 0!==t?t:"No Rank")),n.createElement(l.Ay,{item:!0,xs:8,style:{position:"relative"}},n.createElement("div",{className:b.progressContainer},n.createElement(i.A,{variant:"determinate",value:function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,o=null!==(e=null==m||null===(t=m.current)||void 0===t?void 0:t.value)&&void 0!==e?e:0;return 100*(r-o)/((null!==(a=null==m||null===(n=m.next)||void 0===n?void 0:n.value)&&void 0!==a?a:1e3)-o)}(m.value)}))),n.createElement(l.Ay,{item:!0,xs:2,style:{position:"relative"}},n.createElement("div",{className:b.progressLabel},null!==(c=null===(d=m.next)||void 0===d?void 0:d.label)&&void 0!==c?c:"Unknown"))))}},26033:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var n=a(28407),r=a(73925),o=a(70232),l=a.n(o),i=a(55429),c=a(15647),s=a(55834),u=a(59757),d=a(74552),m=a(84529),b=a(61541),p=a(23470),f=a(3805),h=a(76413),g=a(43461),v=(0,d.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,display:"flex",flexDirection:"column"},header:{padding:"12px 16px",borderBottom:"1px solid ".concat(e.palette.border.divider),background:e.palette.primary.main,color:e.palette.primary.contrastText,fontSize:"16px",fontWeight:500},tabs:{borderBottom:"1px solid ".concat(e.palette.border.divider),backgroundColor:e.palette.background.paper},content:{flex:1,overflowY:"auto",overflowX:"hidden",padding:10,"&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},tabPanel:{},phoneTab:{minWidth:"25%"}}}));const y=function(){var e=v(),t=(0,c.wA)(),a=(0,p.iy)(),o=(0,c.d4)((function(e){return e.data.data.player})),d=(0,c.d4)((function(e){return e.labor.tab})),y=(0,i.useState)(!1),k=(0,r.A)(y,2),E=k[0],A=k[1],w=(0,i.useState)(null),x=(0,r.A)(w,2),N=x[0],B=x[1],S=(0,i.useState)(null),j=(0,r.A)(S,2),R=j[0],O=j[1],C=(0,i.useState)(null),W=(0,r.A)(C,2),D=W[0],L=W[1],J=(0,i.useState)(null),T=(0,r.A)(J,2),z=T[0],G=T[1],M=(0,i.useState)(null),I=(0,r.A)(M,2),P=I[0],Q=I[1],U=(0,i.useState)(null),_=(0,r.A)(U,2),X=_[0],Y=_[1],H=(0,i.useMemo)((function(){return(0,m.throttle)((0,n.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!E){e.next=2;break}return e.abrupt("return");case 2:return A(!0),e.prev=3,e.next=6,b.A.send("GetLaborDetails");case 6:return e.next=8,e.sent.json();case 8:(t=e.sent)?(B(t.jobs),G(t.groups),Y(t.reputations)):(B(Array()),G(Array()),Y(Array())),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),B(Object()),G(Array()),Y(Array());case 18:A(!1);case 19:case"end":return e.stop()}}),e,null,[[3,12]])}))),1e3)}),[]);(0,i.useEffect)((function(){H()}),[]),(0,i.useEffect)((function(){Boolean(z)&&Q(z.filter((function(e){var t;return(null==e||null===(t=e.Creator)||void 0===t?void 0:t.ID)==o.Source||Boolean(null==e?void 0:e.Members)&&(null==e?void 0:e.Members.filter((function(e){return e.ID==o.Source})).length)>0}))[0])}),[z]),(0,i.useEffect)((function(){Boolean(N)&&Boolean(o)&&!E&&O(Object.keys(N).filter((function(e){return!N[e].Restricted})).reduce((function(e,t){return e[t]=N[t],e}),{}))}),[N,o,E]),(0,i.useEffect)((function(){Boolean(N)&&Boolean(o)&&!E&&(Object.keys(N).length>0?L(Object.keys(N).filter((function(e){var t;return Boolean(N[e].Restricted)&&Boolean(null===(t=N[e].Restricted)||void 0===t?void 0:t.state)&&a(N[e].Restricted.state)})).reduce((function(e,t){return e[t]=N[t],e}),{})):L(null))}),[N,o,E]);return i.createElement("div",{className:e.wrapper},i.createElement("div",{className:e.header},"Labor"),i.createElement("div",{className:e.tabs},i.createElement(s.A,{value:d,onChange:function(e,a){t({type:"SET_LABOR_TAB",payload:{tab:a}})},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",scrollButtons:!1},i.createElement(u.A,{className:e.phoneTab,label:"Jobs"}),Boolean(D)&&Object.keys(D).length>0&&i.createElement(u.A,{className:e.phoneTab,label:"Restricted"}),i.createElement(u.A,{className:e.phoneTab,label:"Groups"}),i.createElement(u.A,{className:e.phoneTab,label:"Reputation"}))),i.createElement("div",{className:e.content},i.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:0!==d,id:"jobs"},0===d&&i.createElement(f.default,{jobs:R,groups:z,myGroup:P,loading:E,onRefresh:H})),Boolean(D)&&Object.keys(D).length>0&&i.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:1!==d,id:"illegal"},1===d&&i.createElement(f.default,{jobs:D,groups:z,myGroup:P,loading:E,onRefresh:H})),i.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:d!==(Boolean(D)&&Object.keys(D).length>0?2:1),id:"groups"},d===(Boolean(D)&&Object.keys(D).length>0)?2:i.createElement(h.default,{groups:z,myGroup:P,loading:E,onRefresh:H})),i.createElement("div",{className:e.tabPanel,role:"tabpanel",hidden:d!==(Boolean(D)&&Object.keys(D).length>0?3:2),id:"groups"},d===(Boolean(D)&&Object.keys(D).length>0)?3:i.createElement(g.default,{myReputations:X,loading:E,onRefresh:H}))))}}}]);