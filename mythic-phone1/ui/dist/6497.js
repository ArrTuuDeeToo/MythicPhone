"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[3776,6497,8232],{68232:(e,n,t)=>{t.r(n),t.d(n,{default:()=>E});var r=t(28407),a=t(73925),o=t(70232),i=t.n(o),l=t(55429),c=t(44557),d=t(85220),u=t(68209),s=t(26573),p=t(48147),m=t(74552),f=t(59530),v=t(23470),g=t(87591),h=t(61541),y=(0,m.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},item:{borderBottom:"1px solid ".concat(e.palette.border.divider),"&:first-child":{borderTop:"1px solid ".concat(e.palette.border.divider)}},list:{position:"inherit"},items:{height:400,overflowY:"auto",overflowX:"hidden"},item2:{padding:"10px 5px 10px 10px",borderBottom:"1px solid ".concat(e.palette.border.divider),"&:first-of-type":{borderTop:"1px solid ".concat(e.palette.border.divider)}}}}));const E=function(e){var n,t=e.property,o=(e.type,e.upgrade),m=e.setLoading,E=e.onRefresh,b=y(),A=(0,v.MW)(),w=(0,l.useState)(!1),k=(0,a.A)(w,2),x=k[0],P=k[1],U=(0,l.useState)(null),N=(0,a.A)(U,2),S=N[0],C=N[1],L=o.levels.find((function(e){var n;return e.id==(null==t||null===(n=t.upgrades)||void 0===n?void 0:n.interior)})),I=function(){var e=(0,r.A)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),m(!0),P(!1),e.prev=3,e.next=6,h.A.send("PurchasePropertyInterior",{int:n,id:t.id});case 6:return e.next=8,e.sent.json();case 8:e.sent?(A("Interior Upgraded"),E()):A("Unable to Purchase Upgrade"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),A("Unable to Purchase Upgrade");case 16:m(!1);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(n){return e.apply(this,arguments)}}();return l.createElement("div",{className:b.wrapper},l.createElement(c.Ay,{className:b.item},l.createElement(d.A,{primary:"Interior",secondary:"".concat(L.name," ($").concat(null===(n=L.price)||void 0===n?void 0:n.toLocaleString("en-US"),")")}),l.createElement(u.A,null,l.createElement(s.A,{edge:"end",onClick:function(){return P(!0)}},l.createElement(f.g,{icon:["fas","bag-shopping"]})))),l.createElement(g.aF,{open:x,title:"Upgrade Interior",onClose:function(){return P(!1)}},l.createElement(p.A,{className:b.items},l.createElement("p",null,"Upgrading the Interior Will ",l.createElement("b",null,"RESET")," All Placed Furniture!"),l.createElement("p",null,l.createElement("i",null,"Money will be taken from your main bank account.")),o.levels.sort((function(e,n){return e.price-n.price})).map((function(e){var n,t,r,a;return l.createElement(c.Ay,{className:b.item},l.createElement(d.A,{primary:e.name,secondary:"$".concat((t=L.price,r=e.price,a=5e4,t>r?a:a+(r-t)).toLocaleString("en-US")," - ").concat(null===(n=e.info)||void 0===n?void 0:n.description)}),l.createElement(u.A,null,l.createElement(s.A,{onClick:function(n){return function(e,n){e.stopPropagation(),h.A.send("PreviewPropertyInterior",{int:n})}(n,e.id)},disabled:e.id==L.id},l.createElement(f.g,{icon:["fas","eye"]})),l.createElement(s.A,{onClick:function(n){return t=e.name,r=e.id,void C({name:t,int:r});var t,r},disabled:e.id==L.id},l.createElement(f.g,{icon:["fas","bag-shopping"]}))))})))),l.createElement(g.pT,{title:"Purchase Interior ".concat(null==S?void 0:S.name),open:null!=S,confirm:"Yes",decline:"No",onConfirm:function(){return I(null==S?void 0:S.int)},onDecline:function(){return C(null)}}))}},63776:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var r=t(28407),a=t(73925),o=t(70232),i=t.n(o),l=t(55429),c=t(44557),d=t(85220),u=t(68209),s=t(26573),p=t(74552),m=t(59530),f=t(23470),v=t(87591),g=t(61541),h=(0,p.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},item:{borderBottom:"1px solid ".concat(e.palette.border.divider),"&:first-child":{borderTop:"1px solid ".concat(e.palette.border.divider)}}}}));const y=function(e){var n,t,o,p,y,E,b,A=e.property,w=e.type,k=e.upgrade,x=e.setLoading,P=e.onRefresh,U=h(),N=(0,f.MW)(),S=(0,l.useState)(!1),C=(0,a.A)(S,2),L=C[0],I=C[1],M=null===(n=k.levels)||void 0===n?void 0:n[(null!==(t=null==A||null===(o=A.upgrades)||void 0===o?void 0:o[w])&&void 0!==t?t:1)-1],R=null===(p=k.levels)||void 0===p?void 0:p[null!==(y=null==A||null===(E=A.upgrades)||void 0===E?void 0:E[w])&&void 0!==y?y:1],T=function(){var e=(0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),I(!1),e.prev=2,e.next=5,g.A.send("PurchasePropertyUpgrade",{upgrade:w,id:A.id});case 5:return e.next=7,e.sent.json();case 7:e.sent?(N("Upgrade Purchased"),P()):N("Unable to Purchase Upgrade"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),N("Unable to Purchase Upgrade");case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return l.createElement("div",{className:U.wrapper},l.createElement(c.Ay,{className:U.item},l.createElement(d.A,{primary:"".concat(M.name),secondary:"".concat(M.info).concat(R?"":" - Max Upgrade Reached")}),l.createElement(u.A,null,l.createElement(s.A,{edge:"end",onClick:function(){return I(!0)},disabled:!R},l.createElement(m.g,{icon:["fas","turn-up"]})))),l.createElement(v.aF,{form:!0,open:L,title:"Purchase ".concat(null==R?void 0:R.name,"?"),onAccept:T,submitLang:"Purchase",onClose:function(){return I(!1)}},l.createElement("p",null,null==R?void 0:R.name," - ",null==R?void 0:R.info),l.createElement("p",null,"Upgrade Cost: $",null==R||null===(b=R.price)||void 0===b?void 0:b.toLocaleString("en-US")),l.createElement("p",null,l.createElement("i",null,"Money will be taken from your main bank account.")),l.createElement("p",null,"Are you sure you want to upgrade? Purchases may not be refunded.")))}},66497:(e,n,t)=>{t.r(n),t.d(n,{default:()=>u});var r=t(55429),a=t(74552),o=t(48147),i=t(15647),l=t(63776),c=t(68232),d=(0,a.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflow:"hidden"},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},list:{position:"inherit"}}}));const u=function(e){var n,t=e.property,a=e.onRefresh,u=e.setLoading,s=e.myKey,p=d(),m=(0,i.d4)((function(e){return e.data.data.propertyUpgrades}))[t.type];return null!=s&&null!==(n=s.Permissions)&&void 0!==n&&n.upgrade||null!=s&&s.Owner?r.createElement("div",{className:p.wrapper},m?r.createElement(o.A,{className:p.list},r.createElement(c.default,{property:t,upgrade:m.interior,setLoading:u,onRefresh:a}),Object.keys(m).filter((function(e){return"interior"!==e})).map((function(e){return r.createElement(l.default,{key:"upgrade-".concat(e),property:t,type:e,upgrade:m[e],setLoading:u,onRefresh:a})}))):r.createElement("div",{className:p.emptyMsg},"No Property Upgrades Available")):r.createElement("div",{className:p.wrapper},r.createElement("div",{className:p.emptyMsg},"Invalid Permissions"))}}}]);