"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[6516,8721],{57527:(e,t,r)=>{r.d(t,{A:()=>x});var n=r(86887),a=r(64180),o=r(55429),i=r(34164),l=r(7413),c=r(23805),s=r(29115),p=r(10016),u=r(31699),d=r(52679),m=r(33899);function f(e){return(0,m.Ay)("MuiAppBar",e)}(0,d.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var g=r(64922);const h=["className","color","enableColorOnDark","position"],b=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,v=(0,c.Ay)(u.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`position${(0,p.A)(r.position)}`],t[`color${(0,p.A)(r.color)}`]]}})((({theme:e,ownerState:t})=>{const r="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,a.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,a.A)({},"default"===t.color&&{backgroundColor:r,color:e.palette.getContrastText(r)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,a.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,a.A)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:b(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:b(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:b(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:b(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),x=o.forwardRef((function(e,t){const r=(0,s.b)({props:e,name:"MuiAppBar"}),{className:o,color:c="primary",enableColorOnDark:u=!1,position:d="fixed"}=r,m=(0,n.A)(r,h),b=(0,a.A)({},r,{color:c,position:d,enableColorOnDark:u}),x=(e=>{const{color:t,position:r,classes:n}=e,a={root:["root",`color${(0,p.A)(t)}`,`position${(0,p.A)(r)}`]};return(0,l.A)(a,f,n)})(b);return(0,g.jsx)(v,(0,a.A)({square:!0,component:"header",ownerState:b,elevation:4,className:(0,i.A)(x.root,o,"fixed"===d&&"mui-fixed"),ref:t},m))}))},58721:(e,t,r)=>{r.r(t),r.d(t,{GetMessages:()=>l,JoinChannel:()=>s,LeaveChannel:()=>p,SendMessage:()=>c});var n=r(28407),a=r(70232),o=r.n(a),i=r(61541),l=function(){var e=(0,n.A)(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.send("GetMessages",{channel:t,joined:r});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Array());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.A)(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=7;break;case 3:return e.prev=3,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),s=function(){var e=(0,n.A)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),e.next=4,i.A.send("JoinChannel",r);case 4:return e.next=6,e.sent.json();case 6:if(!e.sent){e.next=11;break}dispatch({type:"ADD_DATA",payload:{type:"ircChannels",data:{_id:r,name:t,joined:Date.now(),pinned:!1}}}),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return function(){var t=(0,n.A)(o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.A.send("LeaveChannel",e);case 3:return t.next=5,t.sent.json();case 5:if(!t.sent){t.next=10;break}r({type:"REMOVE_DATA",payload:{type:"ircChannels",id:e}}),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}},76516:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(28407),a=r(73925),o=r(70232),i=r.n(o),l=r(55429),c=r(15647),s=r(57527),p=r(1310),u=r(20500),d=r(46134),m=r(51959),f=r(59530),g=r(60737),h=r(93632),b=r.n(h),v=r(51698),x=r.n(v),A=r(64965),k=r(61541),y=r(26324),C=r(987),w=r(58721),E=r(23470),B=r(97725),S=(0,m.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflow:"hidden"},header:{background:"#1de9b6",fontSize:20,padding:15,lineHeight:"45px"},avatar:{color:"#fff",height:45,width:45},avatarFav:{color:"#fff",height:45,width:45,border:"2px solid gold"},messageAction:{textAlign:"center","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},body:{padding:10,height:"75%",display:"flex",flexDirection:"column-reverse",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:"#1de9b6"},"&::-webkit-scrollbar-track":{background:"transparent"}},input:{width:"100%",padding:"0 10px"},textInput:{width:"100%"},submitBtn:{height:"100%",fontSize:30,textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.7)","&:hover":{borderBottom:"2px solid #fff",color:"#1de9b6",transition:"color, border-bottom ease-in 0.15s"}},submitBtnDisabled:{height:"100%",fontSize:30,textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.7)",filter:"brightness(0.25)"},submitIcon:{display:"block",margin:"auto",height:"100%",width:"40%"},textWrap:{width:"100%",fontSize:16,color:e.palette.text.light},timestamp:{color:e.palette.text.alt,fontSize:12,marginLeft:5},messageImg:{display:"block",maxWidth:200},copyableText:{color:"#1de9b6",textDecoration:"underline",transition:"filter ease-in 0.15s","&:hover":{filter:"brightness(0.7)",cursor:"pointer"}},details:{fontSize:12,color:e.palette.text.alt},username:{color:"#1de9b6",fontSize:16},msgText:{padding:20,fontSize:14,display:"block",fontFamily:"monospace",color:e.palette.text.main},error:{width:"fit-content",margin:"auto",padding:10,border:"1px solid #1de9b6"}}}));const T=(0,c.Ng)(null,{GetMessages:w.GetMessages})((function(e){var t=(0,E.MW)(),r=S(),o=(0,c.wA)(),m=(0,A.W6)(),h=e.match.params.channel,v=(0,c.d4)((function(e){return e.data.data["irc-".concat((0,y.aG)(h))]})),w=(0,c.d4)((function(e){return e.data.data.player})),T=(0,c.d4)((function(e){return e.data.data.ircChannels})).filter((function(e){return e.slug==h}))[0],D=(0,l.useState)(!1),N=(0,a.A)(D,2),I=N[0],z=N[1],M=(0,l.useState)([]),L=(0,a.A)(M,2),j=L[0],O=L[1],R=(0,l.useState)(!1),$=(0,a.A)(R,2),_=$[0],G=$[1];(0,l.useEffect)((function(){var e=function(){var e=(0,n.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(!0),e.prev=1,e.next=4,k.A.send("GetIRCMessages",(0,y.aG)(h));case 4:return e.next=6,e.sent.json();case 6:(t=e.sent)&&(O(t),o({type:"SET_DATA",payload:{type:"irc-".concat(h),data:t}})),G(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),G(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();v?O(v.filter((function(e){return e.time>=T.joined})).sort((function(e,t){return t.time-e.time}))):T&&e()}),[v]);var W=(0,l.useState)(""),F=(0,a.A)(W,2),U=F[0],H=F[1],J=function(){var e=(0,n.A)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.A.send("LeaveIRCChannel",h);case 3:return e.next=5,e.sent.json();case 5:e.sent?(t("You Left The Channel"),m.goBack(),o({type:"REMOVE_DATA",payload:{type:"ircChannels",id:h,key:"slug"}})):t("Unable To Leave Channel"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t("Unable To Leave Channel");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,n.A)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""==U){e.next=16;break}return e.prev=2,n={message:U,channel:h,time:Date.now(),from:w.Alias.irc},e.next=6,k.A.send("SendIRCMessage",n);case 6:return e.next=8,e.sent.json();case 8:e.sent?(o({type:"ADD_DATA",payload:{type:"irc-".concat(h),first:!0,data:n}}),t("Message Sent"),H("")):t("Unable To Send Message"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),t("Unable To Send Message");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),Y=[{regex:/((https?:\/\/(www\.)?(i\.)?imgur\.com\/[a-zA-Z\d]+)(\.png|\.jpg|\.jpeg|\.gif)?)/gim,fn:function(e,t){return l.createElement(C.vB,{key:e,className:r.messageImg,src:t[0]})}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)(mp4)/gim,fn:function(e,t){return l.createElement("div",null,l.createElement(b(),{key:e,volume:.25,width:"100%",controls:!0,url:"".concat(t[0])}))}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,n){return l.createElement(g.CopyToClipboard,{text:n[0],key:e,onCopy:function(){return t("Link Copied To Clipboard")}},l.createElement("a",{className:r.copyableText},n.input))}},{regex:/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,n){return l.createElement(g.CopyToClipboard,{text:n[0],key:e,onCopy:function(){return t("Link Copied To Clipboard")}},l.createElement("a",{className:r.copyableText},n.input))}}];return l.createElement("div",{className:r.wrapper},null!=T?l.createElement(l.Fragment,null,l.createElement(s.A,{position:"static",className:r.header},l.createElement(p.Ay,{container:!0},l.createElement(p.Ay,{item:!0,xs:11},"#",T.slug),l.createElement(p.Ay,{item:!0,xs:1},l.createElement(p.Ay,{container:!0},l.createElement(p.Ay,{item:!0,xs:6},l.createElement(u.A,{color:"secondary",onClick:function(){return z(!0)}},l.createElement(f.g,{icon:"right-from-bracket"}))))))),_?l.createElement("div",{className:r.body},l.createElement(C.aH,{text:"Loading Messages"})):l.createElement("div",{className:r.body},j.map((function(e,t){return l.createElement("div",{key:"msg-".concat(t),className:r.textWrap},l.createElement("span",{className:r.details},l.createElement("span",{className:r.username},e.from),l.createElement(x(),{className:r.timestamp,titleFormat:"h:mm:ss A",withTitle:!0,fromNow:!0},+e.time)),l.createElement("span",{className:r.msgText},B(Y)(e.message)))})),l.createElement("div",null,l.createElement("h3",null,"Welcome To #",T.slug))),l.createElement("div",{className:r.input},l.createElement("form",{onSubmit:V},l.createElement(p.Ay,{container:!0},l.createElement(p.Ay,{item:!0,xs:10},l.createElement(d.A,{variant:"standard",className:r.textInput,label:"Send New Message",multiline:!0,rows:"4",value:U,onChange:function(e){H(e.target.value)}})),l.createElement(p.Ay,{item:!0,xs:2},l.createElement("div",{className:""!==U?r.submitBtn:r.submitBtnDisabled,onClick:V},l.createElement(f.g,{icon:"paper-plane",className:r.submitIcon})))))),l.createElement(C.pT,{title:"Leave Channel?",open:I,confirm:"Leave",decline:"Cancel",onConfirm:J,onDecline:function(){return z(!1)}})):l.createElement("div",{className:r.error},"Invalid Channel"))}))},97725:e=>{e.exports=function(e){var t=0;function r(e,n){if(!e.fn||"function"!=typeof e.fn)return n;if(!(e.regex&&e.regex instanceof RegExp))return n;if("string"==typeof n){for(var a=e.regex,o=null,i=[];null!==(o=a.exec(n));){var l=o.index,c=o[0];i.push(n.substring(0,l)),i.push(e.fn(++t,o)),n=n.substring(l+c.length,n.length+1),a.lastIndex=0}return i.push(n),i}return Array.isArray(n)?n.map((function(t){return r(e,t)})):n}return function(t){return e&&Array.isArray(e)&&e.length?(e.forEach((function(e){return t=r(e,t)})),t):t}}}}]);