"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[6516,8721],{58721:(e,t,n)=>{n.r(t),n.d(t,{GetMessages:()=>s,JoinChannel:()=>l,LeaveChannel:()=>u,SendMessage:()=>c});var r=n(28407),a=n(70232),o=n.n(a),i=n(61541),s=function(){var e=(0,r.A)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.send("GetMessages",{channel:t,joined:n});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",Array());case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.A)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.next=7;break;case 3:return e.prev=3,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e,null,[[0,3]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.A)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),e.next=4,i.A.send("JoinChannel",n);case 4:return e.next=6,e.sent.json();case 6:if(!e.sent){e.next=11;break}dispatch({type:"ADD_DATA",payload:{type:"ircChannels",data:{_id:n,name:t,joined:Date.now(),pinned:!1}}}),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),u=function(e){return function(){var t=(0,r.A)(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.A.send("LeaveChannel",e);case 3:return t.next=5,t.sent.json();case 5:if(!t.sent){t.next=10;break}n({type:"REMOVE_DATA",payload:{type:"ircChannels",id:e}}),t.next=11;break;case 10:return t.abrupt("return",!1);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}},76516:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(28407),a=n(73925),o=n(70232),i=n.n(o),s=n(55429),c=n(15647),l=n(142),u=n(79111),p=n(26573),d=n(33268),m=n(74552),f=n(59530),h=n(60737),g=n(93632),b=n.n(g),x=n(51698),v=n.n(x),A=n(64965),y=n(61541),k=n(26324),w=n(87591),E=n(58721),C=n(23470),S=n(97725),T=(0,m.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,overflow:"hidden"},header:{background:"#1de9b6",fontSize:20,padding:15,lineHeight:"45px"},avatar:{color:"#fff",height:45,width:45},avatarFav:{color:"#fff",height:45,width:45,border:"2px solid gold"},messageAction:{textAlign:"center","&:hover":{color:e.palette.text.main,transition:"color ease-in 0.15s"}},body:{padding:10,height:"75%",display:"flex",flexDirection:"column-reverse",overflowX:"hidden",overflowY:"auto","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:"#1de9b6"},"&::-webkit-scrollbar-track":{background:"transparent"}},input:{width:"100%",padding:"0 10px"},textInput:{width:"100%"},submitBtn:{height:"100%",fontSize:30,textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.7)","&:hover":{borderBottom:"2px solid #fff",color:"#1de9b6",transition:"color, border-bottom ease-in 0.15s"}},submitBtnDisabled:{height:"100%",fontSize:30,textAlign:"center",borderBottom:"1px solid rgba(255, 255, 255, 0.7)",filter:"brightness(0.25)"},submitIcon:{display:"block",margin:"auto",height:"100%",width:"40%"},textWrap:{width:"100%",fontSize:16,color:e.palette.text.light},timestamp:{color:e.palette.text.alt,fontSize:12,marginLeft:5},messageImg:{display:"block",maxWidth:200},copyableText:{color:"#1de9b6",textDecoration:"underline",transition:"filter ease-in 0.15s","&:hover":{filter:"brightness(0.7)",cursor:"pointer"}},details:{fontSize:12,color:e.palette.text.alt},username:{color:"#1de9b6",fontSize:16},msgText:{padding:20,fontSize:14,display:"block",fontFamily:"monospace",color:e.palette.text.main},error:{width:"fit-content",margin:"auto",padding:10,border:"1px solid #1de9b6"}}}));const D=(0,c.Ng)(null,{GetMessages:E.GetMessages})((function(e){var t=(0,C.MW)(),n=T(),o=(0,c.wA)(),m=(0,A.W6)(),g=e.match.params.channel,x=(0,c.d4)((function(e){return e.data.data["irc-".concat((0,k.aG)(g))]})),E=(0,c.d4)((function(e){return e.data.data.player})),D=(0,c.d4)((function(e){return e.data.data.ircChannels})).filter((function(e){return e.slug==g}))[0],N=(0,s.useState)(!1),z=(0,a.A)(N,2),I=z[0],M=z[1],B=(0,s.useState)([]),L=(0,a.A)(B,2),j=L[0],R=L[1],_=(0,s.useState)(!1),G=(0,a.A)(_,2),$=G[0],O=G[1];(0,s.useEffect)((function(){var e=function(){var e=(0,r.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,y.A.send("GetIRCMessages",(0,k.aG)(g));case 4:return e.next=6,e.sent.json();case 6:(t=e.sent)&&(R(t),o({type:"SET_DATA",payload:{type:"irc-".concat(g),data:t}})),O(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),O(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();x?R(x.filter((function(e){return e.time>=D.joined})).sort((function(e,t){return t.time-e.time}))):D&&e()}),[x]);var W=(0,s.useState)(""),F=(0,a.A)(W,2),U=F[0],H=F[1],J=function(){var e=(0,r.A)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.A.send("LeaveIRCChannel",g);case 3:return e.next=5,e.sent.json();case 5:e.sent?(t("You Left The Channel"),m.goBack(),o({type:"REMOVE_DATA",payload:{type:"ircChannels",id:g,key:"slug"}})):t("Unable To Leave Channel"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t("Unable To Leave Channel");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,r.A)(i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""==U){e.next=16;break}return e.prev=2,r={message:U,channel:g,time:Date.now(),from:E.Alias.irc},e.next=6,y.A.send("SendIRCMessage",r);case 6:return e.next=8,e.sent.json();case 8:e.sent?(o({type:"ADD_DATA",payload:{type:"irc-".concat(g),first:!0,data:r}}),t("Message Sent"),H("")):t("Unable To Send Message"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),t("Unable To Send Message");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),Y=[{regex:/((https?:\/\/(www\.)?(i\.)?imgur\.com\/[a-zA-Z\d]+)(\.png|\.jpg|\.jpeg|\.gif)?)/gim,fn:function(e,t){return s.createElement(w.vB,{key:e,className:n.messageImg,src:t[0]})}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)(mp4)/gim,fn:function(e,t){return s.createElement("div",null,s.createElement(b(),{key:e,volume:.25,width:"100%",controls:!0,url:"".concat(t[0])}))}},{regex:/(http|https):\/\/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,r){return s.createElement(h.CopyToClipboard,{text:r[0],key:e,onCopy:function(){return t("Link Copied To Clipboard")}},s.createElement("a",{className:n.copyableText},r.input))}},{regex:/(\S+)\.([a-z]{2,}?)(.*?)( |\,|$|\.)/gim,fn:function(e,r){return s.createElement(h.CopyToClipboard,{text:r[0],key:e,onCopy:function(){return t("Link Copied To Clipboard")}},s.createElement("a",{className:n.copyableText},r.input))}}];return s.createElement("div",{className:n.wrapper},null!=D?s.createElement(s.Fragment,null,s.createElement(l.A,{position:"static",className:n.header},s.createElement(u.Ay,{container:!0},s.createElement(u.Ay,{item:!0,xs:11},"#",D.slug),s.createElement(u.Ay,{item:!0,xs:1},s.createElement(u.Ay,{container:!0},s.createElement(u.Ay,{item:!0,xs:6},s.createElement(p.A,{color:"secondary",onClick:function(){return M(!0)}},s.createElement(f.g,{icon:"right-from-bracket"}))))))),$?s.createElement("div",{className:n.body},s.createElement(w.aH,{text:"Loading Messages"})):s.createElement("div",{className:n.body},j.map((function(e,t){return s.createElement("div",{key:"msg-".concat(t),className:n.textWrap},s.createElement("span",{className:n.details},s.createElement("span",{className:n.username},e.from),s.createElement(v(),{className:n.timestamp,titleFormat:"h:mm:ss A",withTitle:!0,fromNow:!0},+e.time)),s.createElement("span",{className:n.msgText},S(Y)(e.message)))})),s.createElement("div",null,s.createElement("h3",null,"Welcome To #",D.slug))),s.createElement("div",{className:n.input},s.createElement("form",{onSubmit:V},s.createElement(u.Ay,{container:!0},s.createElement(u.Ay,{item:!0,xs:10},s.createElement(d.A,{variant:"standard",className:n.textInput,label:"Send New Message",multiline:!0,rows:"4",value:U,onChange:function(e){H(e.target.value)}})),s.createElement(u.Ay,{item:!0,xs:2},s.createElement("div",{className:""!==U?n.submitBtn:n.submitBtnDisabled,onClick:V},s.createElement(f.g,{icon:"paper-plane",className:n.submitIcon})))))),s.createElement(w.pT,{title:"Leave Channel?",open:I,confirm:"Leave",decline:"Cancel",onConfirm:J,onDecline:function(){return M(!1)}})):s.createElement("div",{className:n.error},"Invalid Channel"))}))},142:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(86887),a=n(64180),o=n(55429),i=n(1551),s=n(50035),c=n(93119),l=n(88594),u=n(69921),p=n(28744),d=n(35457);function m(e){return(0,d.A)("MuiAppBar",e)}(0,n(40725).A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var f=n(64922);const h=["className","color","enableColorOnDark","position"],g=(0,c.Ay)(p.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,u.A)(n.position)}`],t[`color${(0,u.A)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,a.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:e.zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,a.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"}))})),b=o.forwardRef((function(e,t){const n=(0,l.A)({props:e,name:"MuiAppBar"}),{className:o,color:c="primary",enableColorOnDark:p=!1,position:d="fixed"}=n,b=(0,r.A)(n,h),x=(0,a.A)({},n,{color:c,position:d,enableColorOnDark:p}),v=(e=>{const{color:t,position:n,classes:r}=e,a={root:["root",`color${(0,u.A)(t)}`,`position${(0,u.A)(n)}`]};return(0,s.A)(a,m,r)})(x);return(0,f.jsx)(g,(0,a.A)({square:!0,component:"header",ownerState:x,elevation:4,className:(0,i.A)(v.root,o,"fixed"===d&&"mui-fixed"),ref:t},b))}))},97725:e=>{e.exports=function(e){var t=0;function n(e,r){if(!e.fn||"function"!=typeof e.fn)return r;if(!(e.regex&&e.regex instanceof RegExp))return r;if("string"==typeof r){for(var a=e.regex,o=null,i=[];null!==(o=a.exec(r));){var s=o.index,c=o[0];i.push(r.substring(0,s)),i.push(e.fn(++t,o)),r=r.substring(s+c.length,r.length+1),a.lastIndex=0}return i.push(r),i}return Array.isArray(r)?r.map((function(t){return n(e,t)})):r}return function(t){return e&&Array.isArray(e)&&e.length?(e.forEach((function(e){return t=n(e,t)})),t):t}}}}]);