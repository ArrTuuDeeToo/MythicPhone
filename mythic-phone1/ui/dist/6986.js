"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[822,1252,4620,6986,8871],{4620:(e,t,n)=>{n.r(t),n.d(t,{createContact:()=>d,deleteContact:()=>m,updateContact:()=>u});var a=n(68175),o=n(28407),r=n(70232),c=n.n(r),i=n(61541);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){return function(t){i.A.send("CreateContact",e).then(function(){var n=(0,o.A)(c().mark((function n(a){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==a){n.next=15;break}return n.t0=t,n.t1=s,n.t2=s({},e),n.t3={},n.next=7,a.json();case 7:n.t4=n.sent,n.t5={_id:n.t4},n.t6=(0,n.t1)(n.t2,n.t3,n.t5),n.t7={type:"contacts",data:n.t6},n.t8={type:"ADD_DATA",payload:n.t7},(0,n.t0)(n.t8),n.next=15;break;case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},u=function(e,t){return function(n){i.A.send("UpdateContact",s(s({},t),{},{id:e})).then((function(a){a&&n({type:"UPDATE_DATA",payload:{type:"contacts",id:e,data:t}})}))}},m=function(e){return function(t){i.A.send("DeleteContact",e).then((function(n){n&&t({type:"REMOVE_DATA",payload:{type:"contacts",id:e}})}))}}},30822:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(28407),o=n(70232),r=n.n(o),c=n(55429),i=n(15647),l=n(64965),s=n(24187),d=n(28744),u=n(6129),m=n(79111),p=n(44686),h=n(24209),f=n(66567),b=n(74552),g=n(59530),y=n(61541),v=(0,f.A)({root:{border:"1px solid rgba(0, 0, 0, .25)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(s.A),A=(0,b.A)((function(e){return{contact:{background:e.palette.secondary.dark,"&:hover":{background:e.palette.secondary.main,transition:"background ease-in 0.15s",cursor:"pointer"}},paper:{background:e.palette.secondary.dark},expandoContainer:{textAlign:"center",fontSize:30},expandoItem:{"&:hover":{color:e.palette.primary.main,transition:"color ease-in 0.15s"}},avatar:{color:"#fff",height:45,width:45},avatarFav:{color:"#fff",height:45,width:45,border:"2px solid gold"},contactName:{fontSize:18,color:e.palette.text.light},contactNumber:{fontSize:16,color:e.palette.text.main},expanded:{margin:0}}}));const x=function(e){var t=A(),n=(0,l.W6)(),o=(0,i.d4)((function(e){return e.call.call})),s=function(){var t=(0,a.A)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=o){t.next=14;break}return t.prev=1,t.next=4,y.A.send("CreateCall",{number:e.contact.number,isAnon:!1});case 4:return t.next=6,t.sent.json();case 6:t.sent?n.push("/apps/phone/call/".concat(e.contact.number)):showAlert("Unable To Start Call"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),showAlert("Unable To Start Call");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return c.createElement(d.A,{className:t.paper},c.createElement(v,{className:t.contact,expanded:e.expanded==e.index,onChange:e.onClick},c.createElement(u.A,{expandIcon:c.createElement(g.g,{icon:["fas","chevron-down"]}),style:{padding:"0 12px"}},c.createElement(m.Ay,{container:!0},c.createElement(m.Ay,{item:!0,xs:2},null!=e.contact.avatar&&""!==e.contact.avatar?c.createElement(p.A,{className:e.contact.favorite?t.avatarFav:t.avatar,src:e.contact.avatar,alt:e.contact.name.charAt(0)}):c.createElement(p.A,{className:e.contact.favorite?t.avatarFav:t.avatar,style:{background:e.contact.color}},e.contact.name.charAt(0))),c.createElement(m.Ay,{item:!0,xs:10},c.createElement("div",{className:t.contactName},e.contact.name),c.createElement("div",{className:t.contactNumber},e.contact.number)))),c.createElement(h.A,null,c.createElement(m.Ay,{container:!0,className:t.expandoContainer},c.createElement(m.Ay,{item:!0,xs:null!=e.onDelete?3:4,className:t.expandoItem,onClick:s},c.createElement(g.g,{icon:"phone"})),c.createElement(m.Ay,{item:!0,xs:null!=e.onDelete?3:4,className:t.expandoItem,onClick:function(){n.push("/apps/messages/convo/".concat(e.contact.number))}},c.createElement(g.g,{icon:"comment-sms"})),c.createElement(m.Ay,{item:!0,xs:null!=e.onDelete?3:4,className:t.expandoItem,onClick:function(){n.push("/apps/contacts/edit/".concat(e.contact._id))}},c.createElement(g.g,{icon:"user-pen"})),null!=e.onDelete?c.createElement(m.Ay,{item:!0,xs:3,className:t.expandoItem,onClick:e.onDelete},c.createElement(g.g,{icon:"user-minus"})):null))))}},56986:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(73925),o=n(55429),r=n(15647),c=n(64965),i=n(33268),l=n(91252),s=n(74552),d=n(87591),u=n(30822),m=n(4620),p=n(23470),h=n(59530),f=(0,s.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},content:{height:"90%",background:e.palette.secondary.main,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},searchField:{height:"10%",padding:10},add:{position:"absolute",bottom:"12%",right:"10%","&:hover":{filter:"brightness(0.75)",transition:"filter ease-in 0.15s"}},closer:{position:"fixed",top:0,left:0,height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.75)",zIndex:1e4},createInput:{width:"100%",height:"100%",marginBottom:10},nocontacts:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}})),b=function(e,t,n){return!(n&&n.length>0&&e&&t)||(n=n.toLowerCase(),e.toLowerCase().includes(n)||t.includes(n))};const g=(0,r.Ng)(null,{deleteContact:m.deleteContact})((function(e){var t=(0,p.MW)(),n=f(),s=(0,c.W6)(),m=(0,r.d4)((function(e){return e.data.data})).contacts,g=(0,o.useState)(-1),y=(0,a.A)(g,2),v=y[0],A=y[1],x=(0,o.useState)(""),C=(0,a.A)(x,2),w=C[0],k=C[1],E=function(){s.push("/apps/contacts/add")},N=function(e){return function(t,n){A(!!n&&e)}},D=(0,o.useState)(!1),S=(0,a.A)(D,2),z=S[0],O=S[1],_=function(e){O(e)},j=function(){O(!1)},F=function(){e.deleteContact(z),O(!1),t("Contact Deleted")};return null!=m&&m.length>0?o.createElement("div",{className:n.wrapper},o.createElement("div",{className:n.searchField},o.createElement(i.A,{fullWidth:!0,value:w,onChange:function(e){return k(e.target.value)},label:"Search Contacts"})),o.createElement("div",{className:n.content},m.filter((function(e){return e.favorite&&b(e.name,e.number,w)})).sort((function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:t.name.toLowerCase()>e.name.toLowerCase()?-1:0})).map((function(e){return o.createElement(u.default,{key:e._id,contact:e,expanded:v,index:e._id,onClick:N(e._id),onDelete:function(){return _(e._id)}})})),m.filter((function(e){return!e.favorite&&b(e.name,e.number,w)})).sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).map((function(e){return o.createElement(u.default,{key:e._id,contact:e,expanded:v,index:e._id,onClick:N(e._id),onDelete:function(){return _(e._id)}})}))),o.createElement(l.A,{className:n.add,color:"primary",onClick:E},o.createElement(h.g,{icon:["fas","plus"]})),o.createElement(d.pT,{title:"Delete Contact",open:z,confirm:"Delete",decline:"Cancel",onConfirm:F,onDecline:j})):o.createElement("div",{className:n.wrapper},o.createElement("div",{className:n.content},o.createElement("div",{className:n.nocontacts},"You Have No Contacts")),o.createElement(l.A,{className:n.add,color:"primary",onClick:E},o.createElement(h.g,{icon:["fas","plus"]})),o.createElement(d.pT,{title:"Delete Contact",open:z,confirm:"Delete",decline:"Cancel",onConfirm:F,onDecline:j}))}))},91252:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(86887),o=n(64180),r=n(55429),c=n(1551),i=n(50035),l=n(80772),s=n(69921),d=n(88594),u=n(35457);function m(e){return(0,u.A)("MuiFab",e)}const p=(0,n(40725).A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge"]);var h=n(93119),f=n(64922);const b=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],g=(0,h.Ay)(l.A,{name:"MuiFab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,s.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,"primary"===n.color&&t.primary,"secondary"===n.color&&t.secondary]}})((({theme:e,ownerState:t})=>(0,o.A)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},textDecoration:"none"},[`&.${p.focusVisible}`]:{boxShadow:e.shadows[6]},[`&.${p.disabled}`]:{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})),(({theme:e,ownerState:t})=>(0,o.A)({},"primary"===t.color&&{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},"secondary"===t.color&&{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}}))),y=r.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiFab"}),{children:r,className:l,color:u="default",component:p="button",disabled:h=!1,disableFocusRipple:y=!1,focusVisibleClassName:v,size:A="large",variant:x="circular"}=n,C=(0,a.A)(n,b),w=(0,o.A)({},n,{color:u,component:p,disabled:h,disableFocusRipple:y,size:A,variant:x}),k=(e=>{const{color:t,variant:n,classes:a,size:o}=e,r={root:["root",n,`size${(0,s.A)(o)}`,"inherit"===t&&"colorInherit","primary"===t&&"primary","secondary"===t&&"secondary"]};return(0,i.A)(r,m,a)})(w);return(0,f.jsx)(g,(0,o.A)({className:(0,c.A)(k.root,l),component:p,disabled:h,focusRipple:!y,focusVisibleClassName:(0,c.A)(k.focusVisible,v),ownerState:w,ref:t},C,{children:r}))}))}}]);