"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[7612],{97612:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var r=a(28407),n=a(73925),o=a(70232),c=a.n(o),s=a(55429),l=a(15647),i=a(57527),d=a(1310),m=a(42262),p=a(74268),u=a(40279),f=a(51959),b=a(64965),g=a(84529),h=a(59530),y=a(987),E=a(61541),k=a(98433),x=a(23470),v=(0,f.A)((function(e){return{wrapper:{height:"100%",background:"#1a1a1a",display:"flex",flexDirection:"column"},header:{background:"#27272a",fontSize:20,padding:15,lineHeight:"45px",height:78,borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},subHeader:{background:"#27272a",padding:"8px 16px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},statsItem:{color:"rgba(255, 255, 255, 0.7)",display:"flex",alignItems:"center",gap:"8px",fontSize:14,"& .icon":{color:"#ff4444"}},content:{flex:1,overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52",borderRadius:3},"&::-webkit-scrollbar-thumb:hover":{background:"#ff4444"},"&::-webkit-scrollbar-track":{background:"transparent"}},item:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)","&:first-of-type":{borderTop:"1px solid rgba(255, 255, 255, 0.1)"},"& .MuiListItemText-primary":{color:"#ffffff"},"& .MuiListItemText-secondary":{color:"rgba(255, 255, 255, 0.7)"}},list:{height:"100%",width:"100%",padding:0},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%",color:"rgba(255, 255, 255, 0.7)"}}}));const w=function(e){var t=v(),a=(0,l.wA)(),o=(0,x.MW)(),f=(0,b.W6)(),w=((0,x.Bm)(),(0,l.d4)((function(e){return e.com.roster}))),A=(0,l.d4)((function(e){return e.com.rosterUpdated})),N=(0,l.d4)((function(e){return e.data.data.externalJobs})),T=(0,l.d4)((function(e){return e.data.data.player})),I=(0,s.useState)(!1),S=(0,n.A)(I,2),M=S[0],R=S[1],C=(0,s.useMemo)((function(){return(0,g.throttle)((0,r.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,E.A.send("FetchRoster",{});case 4:return e.next=6,e.sent.json();case 6:if(!(t=e.sent)||!t.rosterData){e.next=11;break}a({type:"UPDATE_ROSTERS",payload:{roster:t.rosterData}}),e.next=12;break;case 11:throw t;case 12:e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),o("Unable to Load Roster's"),a({type:"UPDATE_ROSTERS",payload:{roster:!1}});case 19:R(!1);case 20:case"end":return e.stop()}}),e,null,[[1,14]])}))),5e3)}),[]);return(0,s.useEffect)((function(){(T.Jobs&&T.Jobs.length)>0&&(!w||Date.now()-A>=18e4)&&C()}),[]),s.createElement("div",{className:t.wrapper},s.createElement(i.A,{position:"static",className:t.header},s.createElement(d.Ay,{container:!0},s.createElement(d.Ay,{item:!0,xs:7},s.createElement(k.A,{lines:1},"Company Manager")))),s.createElement("div",{className:t.subHeader},s.createElement("div",{className:t.statsItem},s.createElement(h.g,{icon:["fas","users"],className:"icon"}),s.createElement("span",null,"Active Roster: ",w?Object.keys(w).length:0)),s.createElement("div",{className:t.statsItem},s.createElement(h.g,{icon:["fas","clock"],className:"icon"}),s.createElement("span",null,"Time Worked: 8h 30m"))),s.createElement("div",{className:t.content},M?s.createElement(y.aH,{static:!0,text:"Loading"}):s.createElement(s.Fragment,null,(T.Jobs&&T.Jobs.length)>0?s.createElement(m.A,{className:t.list},T.Jobs.map((function(e){var r;if(!N.includes(e.Id))return s.createElement(p.Ay,{button:!0,key:"job-".concat(e.Id),onClick:function(){return t=e.Id,f.push("/apps/comanager/view/".concat(t)),void a({type:"SET_COM_TAB",payload:{tab:0}});var t},className:t.item},s.createElement(u.A,{primary:s.createElement("span",null,e.Workplace?null===(r=e.Workplace)||void 0===r?void 0:r.Name:e.Name),secondary:"Employed as ".concat(e.Grade.Name)}))}))):s.createElement("div",{className:t.emptyMsg},"You're Not Employed at a Company"))))}}}]);