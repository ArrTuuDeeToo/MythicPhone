"use strict";(self.webpackChunkmythic_phone=self.webpackChunkmythic_phone||[]).push([[1477,1663,3497,9417],{41663:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var n=r(55429),a=r(15647),o=r(87261),c=r(57980),l=r(51959),i=r(45984),s=r(21938),u=r(33674),d=r(66497),p=(0,l.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},content:{height:"83.75%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},tabPanel:{height:"100%"},phoneTab:{minWidth:"25%"},header:{background:"#b0e655",color:e.palette.secondary.dark,fontSize:20,padding:15,lineHeight:"50px",height:78},headerAction:{color:e.palette.secondary.dark}}})),f=(0,i.A)((function(e){return{indicator:{backgroundColor:"#30518c"}}}))((function(e){return n.createElement(o.A,e)})),m=(0,i.A)((function(e){return{root:{width:"33.3%","&:hover":{color:"#fff",transition:"color ease-in 0.15s"},"&$selected":{color:"#fff",transition:"color ease-in 0.15s"},"&:focus":{color:"#fff",transition:"color ease-in 0.15s"}},selected:{},disabled:{textDecoration:"line-through"}}}))((function(e){return n.createElement(c.A,e)}));const y=function(e){var t=e.property,r=e.onRefresh,o=e.setLoading,c=p(),l=(0,a.wA)(),i=(0,a.d4)((function(e){return e.home.tab})),y=(0,a.d4)((function(e){return e.data.data.player.ID})),h=t.keys[y];return n.createElement("div",{className:c.wrapper},n.createElement("div",{className:c.content},n.createElement("div",{className:c.wrapper},n.createElement("div",{className:c.tabPanel,role:"tabpanel",hidden:0!==i,id:"exchange"},0===i&&n.createElement(u.default,{property:t,onRefresh:r,myKey:h})),n.createElement("div",{className:c.tabPanel,role:"tabpanel",hidden:1!==i,id:"upgrades"},1===i&&n.createElement(d.default,{property:t,onRefresh:r,setLoading:o,myKey:h})),n.createElement("div",{className:c.tabPanel,role:"tabpanel",hidden:2!==i,id:"furniture"},2===i&&n.createElement(s.default,{property:t,onRefresh:r,myKey:h})))),n.createElement("div",{className:c.tabs},n.createElement(f,{value:i,onChange:function(e,t){l({type:"SET_HOME_TAB",payload:{tab:t}})},scrollButtons:!1,centered:!0},n.createElement(m,{label:"DigiKeys"}),n.createElement(m,{label:"Upgrades"}),n.createElement(m,{label:"Furniture"}))))}},43497:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(55429),a=r(15647),o=r(74268),c=r(40279),l=r(51959),i=(r(84529),r(59530),(0,l.A)((function(e){return{}})));const s=function(e){var t=e.property,r=(i(),(0,a.wA)()),l=(0,a.d4)((function(e){return e.data.data.player.ID})),s=t.keys[l];return n.createElement(o.Ay,{divider:!0,button:!0,onClick:function(){r({type:"SET_SELECTED_PROPERTY",payload:t.id})}},n.createElement(c.A,{primary:t.label,secondary:null!=s&&s.Owner?"Owner":"Key Holder"}))}},61477:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var n=r(55429),a=r(15647),o=r(42262),c=r(51959),l=r(43497),i=(0,c.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"},list:{height:"100%",overflowX:"hidden",overflowY:"auto"}}}));const s=function(e){var t=i(),r=(0,a.d4)((function(e){return e.data.data.myProperties}));return n.createElement("div",{className:t.wrapper},r.length>0?n.createElement(o.A,{className:t.list},r.map((function(e){return n.createElement(l.default,{key:"prop-".concat(e.id),property:e})}))):n.createElement("div",{className:t.emptyMsg},"You Dont Have Access To Any Properties"))}},79417:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var n=r(68175),a=r(28407),o=r(73925),c=r(70232),l=r.n(c),i=r(55429),s=r(15647),u=r(57527),d=r(1310),p=r(20500),f=r(56977),m=r(59530),y=r(51959),h=r(84529),b=r(98433),g=r(61541),E=r(987),A=r(41663),v=r(61477),k=r(23470);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=(0,y.A)((function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main},header:{background:"#30518c",fontSize:20,padding:15,lineHeight:"50px",height:78},headerAction:{},emptyMsg:{width:"100%",textAlign:"center",fontSize:20,fontWeight:"bold",marginTop:"25%"}}})),T=[{type:"house",id:"60af7d605716b35d64c6c4a1",label:"1 Grove St",sold:!0,price:1e5,default:!0,interior:1,location:{front:{z:26.679443359375,y:-1847.235107421875,x:-33.92966842651367},backdoor:{z:26.197219848633,y:-1859.2385253906,x:-42.875373840332,h:139.80822753906}},owner:"6088b90c93a7b379e0c83ef2",keys:{"6088b90c93a7b379e0c83ef2":{First:"Test",Last:"Test",Type:"Owner",Owner:!0,SID:1},541:{First:"Test",Last:"Test",Type:"Keyholder",Owner:!1,SID:2}},upgrades:{interior:"house_apartment1"}}];const D=function(e){var t=x(),r=(0,s.wA)(),n=(0,k.MW)(),c=(0,s.d4)((function(e){return e.home.selected})),y=(0,s.d4)((function(e){return e.data.data.myProperties})),w=(0,s.d4)((function(e){return e.data.data.player.ID})),D=(0,i.useState)(!1),O=(0,o.A)(D,2),S=O[0],N=O[1],R=(0,i.useState)(!1),j=(0,o.A)(R,2),_=j[0],K=j[1],L=(0,i.useState)(null),B=(0,o.A)(L,2),C=B[0],H=B[1],M=(0,i.useState)(null),U=(0,o.A)(M,2),z=U[0],Y=U[1];(0,i.useEffect)((function(){Boolean(C)&&Y(C.keys[w])}),[C]),(0,i.useEffect)((function(){Boolean(c)&&Boolean(y)?H(y.filter((function(e){return e.id==c}))[0]):H(null)}),[c,y]);var F=(0,i.useMemo)((function(){return(0,h.throttle)((0,a.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.prev=3,e.next=6,g.A.send("Home:GetMyProperties");case 6:return e.next=8,e.sent.json();case 8:(t=e.sent)?(r({type:"SET_DATA",payload:{type:"myProperties",data:t.properties}}),r({type:"SET_DATA",payload:{type:"propertyUpgrades",data:t.upgrades}})):r({type:"SET_DATA",payload:{type:"myProperties",data:Array()}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),r({type:"SET_DATA",payload:{type:"myProperties",data:T}});case 16:N(!1);case 17:case"end":return e.stop()}}),e,null,[[3,12]])}))),1e3)}),[]),I=(0,i.useMemo)((function(){return(0,h.throttle)(function(){var e=(0,a.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.prev=3,e.next=6,g.A.send("Home:LockProperty");case 6:return e.next=8,{id:t.id}.json();case 8:e.sent?(n("Property Locked"),r({type:"UPDATE_DATA",payload:{type:"myProperties",id:t.id,data:P(P({},t),{},{locked:!0})}})):n("Unable to Lock Property"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0),n("Unable to Lock Property");case 16:N(!1);case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),1e3)}),[]);(0,i.useEffect)((function(){F()}),[]);var W=function(){r({type:"SET_SELECTED_PROPERTY",payload:null})},G=function(){var e=(0,a.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.prev=1,e.next=4,g.A.send("Home:RemoveMyKey",{id:C.id});case 4:return e.next=6,e.sent.json();case 6:e.sent?(W(),n("Removed DigiKey")):n("Unable to Remove DigiKey"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),K(!1),n("Unable to Remove DigiKey");case 15:N(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return i.createElement("div",{className:t.wrapper},i.createElement(u.A,{position:"static",className:t.header},i.createElement(d.Ay,{container:!0},i.createElement(d.Ay,{item:!0,xs:2,style:{textAlign:"center"}},Boolean(C)?i.createElement(p.A,{onClick:W},i.createElement(m.g,{icon:["fas","chevron-left"]})):i.createElement(p.A,{disabled:!0},i.createElement(m.g,{icon:["fas","house-signal"]}))),i.createElement(d.Ay,{item:!0,xs:5,style:{lineHeight:"50px"}},i.createElement(b.A,{lines:1},Boolean(C)?C.label:"Smart Home")),i.createElement(d.Ay,{item:!0,xs:5,style:{textAlign:"right"}},Boolean(C)&&i.createElement(i.Fragment,null,Boolean(z)&&!z.Owner&&i.createElement(f.A,{title:"Remove DigiKey"},i.createElement(p.A,{onClick:function(){return K(!0)},disabled:S,className:t.headerAction},i.createElement(m.g,{icon:["fas","trash-can-xmark"]}))),!C.locked&&i.createElement(f.A,{title:"Lock Property"},i.createElement(p.A,{onClick:function(){return I(C)},disabled:S,className:t.headerAction},i.createElement(m.g,{icon:["fas","lock"]})))),i.createElement(f.A,{title:"Refresh Properties"},i.createElement(p.A,{onClick:F,disabled:S,className:t.headerAction},i.createElement(m.g,{className:"fa ".concat(S?"fa-spin":""),icon:["fas","arrows-rotate"]})))))),S?i.createElement(E.aH,{static:!0,text:"Loading"}):Boolean(C)?i.createElement(A.default,{property:C,onRefresh:F,setLoading:N}):i.createElement(v.default,null),Boolean(C)&&i.createElement(i.Fragment,null,Boolean(z)&&!z.Owner&&i.createElement(E.pT,{title:"Remove DigiKey?",open:_,confirm:"Yes",decline:"No",onConfirm:G,onDecline:function(){return K(!1)}},i.createElement("p",null,"Removing the DigiKey will revoke access to this property and shared assets. Are you sure?"))))}}}]);